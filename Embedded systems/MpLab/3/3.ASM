;Лабораторна робота № 3
;Тема:режими роботи таймеру (tmr0)
;Надірян Г.О.
;Дата 15.10.2019.
#include<p16f84a.inc> 
k1 equ .240
k2 equ .245
	org 0 ;точка входу вектор скидання
	movlw b'00101000' ;переддільника з коефіцієнтом розподілу
	OPTION
	movlw 0x00 ;всі розряді на ввід
	TRIS PORTB ;настроювання порта B на вивід
	movlw 0xff ;всі розряді на вивід
	TRIS PORTA ;настроювання порта А на ввід
start movlw .256-k1 ;формування константи для скидання таймера
	movwf TMR0 ;ініціалізаії таймера
	bcf INTCON,T0IF ;скидання прпорця переповненння таймера 
M1	btfss INTCON,T0IF ;очікування переповнення таймера
	goto M1; перехід, якщо таймер не переповнений
	bcf PORTB,4 ;установка початкового рівня вихідного сигналу
	movlw .256-k2
	movwf TMR0 ;ініціалізаії таймера
	bcf INTCON,T0IF
M2 	btfss INTCON,T0IF ;очікування переповнення таймера
	goto M2 ; перехід, якщо таймер не переповнений
	bsf PORTB,4

	goto start
	end